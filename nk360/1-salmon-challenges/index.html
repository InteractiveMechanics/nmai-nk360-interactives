<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="The National Museum of the American Indian">
    <meta name="description" content="Learn what it’s like to be a salmon. Play this interactive game and navigate the challenges that salmon face in their long journey upstream.">
    
    <title>Salmon Challenges: The Return Upstream - Native Knowledge 360&deg;</title>
  
    <meta property="og:title" content="Salmon Challenges: The Return Upstream - Native Knowledge 360&deg;" />
    <!-- For production build -->
    <!-- build:template:dist 
        <meta property="og:url" content="http://nmai.si.edu/nk360/<%= dir %>" />
    /build -->
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Learn what it’s like to be a salmon. Play this interactive game and navigate the challenges that salmon face in their long journey upstream." />
    <meta property="og:image" content="./assets/sharing-img-salmon.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Include shared stylesheets -->
    <link rel="stylesheet" href="/nk360/shared/lib/im/css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" href="/nk360/shared/lib/im/js/lightgallery/css/lightgallery.min.css" />
    <link rel="stylesheet" href="/nk360/shared/lib/im/js/slick/slick.css" />
    <link rel="stylesheet" href="/nk360/shared/lib/im/js/slick/slick-theme.css" />
    <link rel="stylesheet" href="/nk360/shared/lib/im/css/animate/animate.css" />
    <link rel="stylesheet" href="/nk360/shared/lib/im/code/upperleftmenu/menu.css" />

    <!-- Include project stylesheets -->
    <link rel="stylesheet" href="./css/main.css" />
    
    <!-- For development only, comment for distribution -->
    <link rel="stylesheet" href="./css/theme-pnw.css" />

    <!-- For production build -->
    <!-- build:template:dist 
        <link rel="stylesheet" href="./css/theme-<%= theme %>.css" />
    /build -->

    <script type="text/javascript">

      if(window.innerWidth > 768) {
        window.onclick = blowBubbles;
        function blowBubbles(evt) {
            var bubbleContainer = document.getElementById('bubbles');
            var x = evt.pageX;
            var y = evt.pageY;
            var number = Math.floor((Math.random() * 6) + 2);
            bubbleContainer.innerHTML = "";
            bubbleContainer.style.top = (y - 50) + "px";
            bubbleContainer.style.left = (x - 50) + "px";
            for(i=0; i<number; i++){
                var size = Math.floor(Math.random() * (40 - 20 + 1)) + 20;
                var speed = Math.random() + 0.5;
                var bx = Math.floor((Math.random() * 100) + 1);
                var by = Math.floor((Math.random() * 100) + 1);
                bubbleContainer.insertAdjacentHTML('beforeend', 
                    '<div class="bubble" style="width:'+size+'px;height:'+size+'px;top:'+by+'px;left:'+bx+'px;-webkit-animation-duration:'+speed+'s"></div>');
            }
        }
      }
    </script>

    <style type="text/css">
      #bubbles { display: block; position: absolute; z-index: 194; width: 100px; height: 100px; pointer-events: none; }
        .bubble { width: 30px; height: 30px; background: rgba(250, 250, 250, 0.25); border-radius: 150px; position: absolute; -webkit-animation: float 0.5s ease-in; -webkit-animation-fill-mode: forwards; }
        @keyframes float {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-200px); opacity: 0; }
        }

    </style>
</head>
<body>
    <!-- Google Analytics tracking script -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-28789452-3', 'auto');
      ga('set', 'appName', 'SalmonChallenges');
      ga('send', 'pageview');
    </script>

    <div id="bubbles"></div>


    <!-- Common interactive elements -->
    <div class="module-menu-wrapper">
      <div class="abs top left module-menu">
        <div id="showLeft"> 
          <div class="nk360-back-arrow">
            <svg x="0px" y="0px" width="23px" height="41px" viewBox="0 0 23 41" style="enable-background:new 0 0 23 41;" xml:space="preserve">
              <path class="st3" d="M18.856,2.383C19.102,2.128,19.408,2,19.744,2c0.339,0,0.644,0.128,0.888,0.383c0.489,0.51,0.489,1.339,0,1.85
              L5.028,20.502l15.604,16.264c0.489,0.512,0.489,1.344,0,1.852c-0.489,0.51-1.286,0.51-1.776,0L2.367,21.426
              c-0.489-0.51-0.489-1.34,0-1.85L18.856,2.383z"/>
            </svg>  
          </div>
          
          <div class="nk360-logo">
            <img class="black-logo" src="/nk360/shared/lib/im/code/upperleftmenu/NK360-logo-black-menu.png" alt="NK 360 black and white logo" />
            <img class="color-logo" src="/nk360/shared/lib/im/code/upperleftmenu/NK360-logo-color-menu.png" alt="NK 360 color logo" />
          </div>
        </div>
      
        <nav class="cbp-spmenu cbp-spmenu-vertical cbp-spmenu-left menu-items" id="cbp-spmenu-s1">
          <a href="#" title="Native Knowledge 360&deg; Home">
            <svg id="home-icon" x="0px" y="0px" width="28px" height="26px" viewBox="0 0 28 26" style="enable-background:new 0 0 23 26;" xml:space="preserve"><path class="st3" d="M20.406,12.869c-0.296,0-0.536,0.238-0.536,0.531v9.455h-5.76v-5.936c0-0.293-0.24-0.53-0.536-0.53H9.369
            c-0.296,0-0.536,0.237-0.536,0.53v4.705c0,0.294,0.24,0.531,0.536,0.531c0.297,0,0.537-0.238,0.537-0.531v-4.175h3.132v5.405H3.074
      V9.865l8.398-6.653l8.599,6.813c0.231,0.183,0.57,0.147,0.756-0.083c0.186-0.229,0.147-0.562-0.084-0.746l-8.936-7.08
      c-0.195-0.156-0.475-0.156-0.67,0l-8.936,7.08C2.074,9.297,2,9.449,2,9.61v13.773c0,0.293,0.24,0.531,0.537,0.531h17.869
      c0.297,0,0.537-0.238,0.537-0.531V13.4C20.943,13.107,20.703,12.869,20.406,12.869L20.406,12.869z"/></svg>
            <div>Native Knowledge<br />360&deg; Home</div>
          </a>
          <a href="#" title="Return to American Indian Removal Lesson">
            <svg id="return-icon" x="0px" y="0px" width="28px" height="17px" viewBox="0 0 28 17" style="enable-background:new 0 0 28 17;" xml:space="preserve"><path class="st3" d="M20.248,4.678H3.779l2.067-1.852c0.204-0.182,0.204-0.478,0-0.66c-0.204-0.182-0.534-0.182-0.737,0L2.156,4.811
      C2.147,4.819,2.138,4.828,2.13,4.836C2.049,4.918,2,5.026,2,5.145c0,0.153,0.083,0.289,0.209,0.374l2.9,2.597
      c0.203,0.183,0.533,0.183,0.737,0c0.204-0.182,0.204-0.478,0-0.66L3.788,5.611h16.46c2.587,0,4.69,1.885,4.69,4.203
      c0,2.316-2.104,4.201-4.69,4.201H2.521C2.233,14.016,2,14.226,2,14.482c0,0.258,0.233,0.468,0.521,0.468h17.727
      c3.161,0,5.733-2.305,5.733-5.136C25.981,6.981,23.409,4.678,20.248,4.678L20.248,4.678z"/>
            </svg>
            <div>Return to American<br />Indian Removal<br />Lesson</div>
          </a>  
        </nav>
      </div>
    </div>
    <div class="activity-menu-wrapper">
        <div class="abs top right">
            <a class="icon pause-click icon-pause" title="Pause Salmon Challenges"></a>
            <a class="icon pause-click icon-play" title="Play Salmon Challenges"></a>
            <a class="icon icon-restart restart" title="Restart Salmon Challenges"></a>
            <a class="icon icon-info" title="Show Instructions" id="show-instructions"></a>
        </div>
    </div>
    <footer class="fixed-bottom d-flex justify-content-between">
        <img src="/nk360/shared/lib/im/images/logo.svg" alt="Smithsonian National Museum of the American Indian" title="Smithsonian National Museum of the American Indian" />
        <ul class="list-inline">
            <li class="list-inline-item"><a href="http://www.si.edu/privacy/?external" target="_blank">Privacy</a></li>
            <li class="list-inline-item"><a href="http://www.si.edu/termsofuse/?external" target="_blank">Terms of Use</a></li>
            <li class="list-inline-item hidden-xs-down"><a href="#" id="footer-credits" data-content="">Credits</a></li>
            <li class="list-inline-item">&copy; 2017 Smithsonian Institution</li>
        </ul>
    </footer>

    <div class="slider-wrapper hidden">


      <div class="card-wrapper">
     
        <div class="card card-before before-indicator">
          <p></p>
        </div>
       
        <div class="card card-after after-indicator">
          <p></p>
        </div>
        
        <div class="card card-bg">

          <div class="close-icon close-faded">
            <img src="/nk360/shared/lib/im/images/icon-close.svg" width="70">  
          </div>

          <div class="slider">

            <div class="text-center">
              <p class="all-caps letter-spacing-1">You've encountered an obstacle</p>
              <h2 class="">Manmade Dam</h2>
              <hr />

              <h3>The dam is blocking your path. <br /> How will you make it past?</h3>
              <p class="all-caps">
                Pick one option to proceed
              </p>

              <div class="quiz-options btn-group-vertical" role="group" data-answered="false">

                <button type="button" class="btn btn-default right-answer">
                  Use the fish ladder
                </button>


                <button type="button" class="btn btn-default wrong-answer">
                  Try to find another way around
                </button>


                <button type="button" class="btn btn-default wrong-answer">
                  Swim through the dam
                </button>

              </div>

              <p class="hidden quiz-detail">
                Oh no! You try to find your way past the dam, but you're not able to make it through safely/
              </p>

              <p class="hidden quiz-solution">
                <strong>
                  You lose one fish.
                </strong>
              </p>
            </div>

          </div>

        </div>
       
      </div>

      <div class="overlay"></div>

    </div>

    <!--intro slider-->
    <div class="intro-slider-wrapper hidden">
    
      <div class="card-wrapper">
        
        <div class="card card-before">
          <p></p>
        </div>
         
        <div class="card card-after">
          <p></p>
        </div>
          
        <div class="card slider-card">

          <div class="close-icon close-faded">
            <img src="/nk360/shared/lib/im/images/icon-close.svg" width="70">  
          </div>

          <section class="intro-slider">
            
            <div>
              <p>
                Follow your salmon on their journey as they travel from the ocean back upstream to spawn. Find safe refuge as you travel, face helpful or harmful encounters, and make decisions that impact whether your salmon live or die.
              </p>
            </div>
            
          </section>
        </div>

      </div>

      <div class="overlay"></div>
    </div>

    <!--spawn/death slider-->
    <div class="spawn-death-slider-wrapper hidden">
    
      <div class="card-wrapper">
        
        <div class="card card-before">
          <p></p>
        </div>
         
        <div class="card card-after">
          <p></p>
        </div>
          
        <div class="card slider-card">
          <section class="spawn-death-slider">
            
            <div>
              <p>
                Follow your salmon on their journey as they travel from the ocean back upstream to spawn. Find safe refuge as you travel, face helpful or harmful encounters, and make decisions that impact whether your salmon live or die.
              </p>
            </div>
            
          </section>
        </div>

      </div>

      <div class="overlay"></div>
    </div>
    
    <div id="instructions" class="fade show" data-instructionsclicked="false">
        <div class="container instructions-container">
          <header class="text-center">
            <h4 class="all-caps letter-spacing-1">How to Play</h4>
            <h1>Salmon Challenges</h1>
          </header>

            <div class="row justify-content-md-center">
                <div class="col-md-6 col-lg-6">
                    <img src="./assets/instructions-01@2x.png" class="img-fluid" alt="Salmon" title="Salmon" width="50%" />
                    <h2>Keep Your Salmon Alive</h2>
                    <p>
                      Guide your salmon upstream to spawn, and help them make important decisions and avoid dangerous obstacles along the way.
                    </p>
                </div>
                <div class="col-md-6 col-lg-6">
                    <img src="./assets/instructions-02@2x.png" class="img-fluid" alt="Salmon" title="Salmon" width="50%" />
                    <h2>Explore and Learn</h2>
                    <p>
                      Encounter (tap or click) animated objects as they float down the river to learn about salmon &mdash; maybe even find more fish to join you on your journey to spawn!
                    </p>
                </div>
            </div>
            <a class="btn btn-success btn-white btn-lg" id="close-instructions" title="Continue this activity">Continue this Activity</a>
        </div>
        <div class="overlay"></div>
    </div>

    <div id="congrats-instructions" class="fade hidden">
        <div class="container congrats-instructions-container">

            <header class="text-center">
              <h4 class="all-caps letter-spacing-1">Congratulations</h4>
              <h2>You Made It!</h2>
            </header>
            
            <p>
              
              You survived your long journey upstream with 
              <strong><span class="fishes-left">1</span> salmon</strong> 
              left after 
              <br /> 
              encountering 
              <strong><span class="obstacles-hit">13</span> obstacles</strong> 
              and 
              <strong><span class="encounters-hit">16</span> random</strong> 
              objects along the way.

            </p>
            <div>
              <img src="./assets/congrats-screen@2x.png" class="img-fluid" width="55%" alt="Salmon" title="Salmon" />
            </div>

            <a class="btn btn-success btn-lg" id="close-congrats-screen" title="Continue">Continue</a>
        </div>
        <div class="overlay"></div>
    </div>

    <div id="select-fish" class="fade hidden">
        <div class="container select-fish-container">

            <header class="header text-center">
              <h2 class="letter-spacing-1 all-caps">The Return Upstream</h2>
              <h1>Pick Your Salmon</h1>
            </header>

            <div class="row justify-content-md-center fish-row">
                
                <div class="col cursor-pointer" data-fish="Sockeye">
                    
                    <div class="fish-photo">
                      <img src="./assets/sockeye@2x.png" class="img-fluid" alt="Sockeye" title="Sockeye" width="95%" />
                    </div>

                    <div class="fish-detail">
                      <h2>Sockeye</h2>
                      <p>
                        Sockeye salmon is the dominant commercial species of pacific salmon.
                      </p>
                    </div>

                    <br class="clear-left" />
                </div>
                
                <div class="col cursor-pointer" data-fish="Steelhead">

                    <div class="fish-photo">
                      <img src="./assets/steelhead@2x.png" class="img-fluid" alt="Steelhead" title="Steelhead" width="95%" />
                    </div>

                    <div class="fish-detail">
                      <h2>Steelhead</h2>
                      <p>
                        The steelhead is often viewed as prize catch for commercial and sports fishers. Steelhead can return multiple times to spawn.
                      </p>
                    </div>
                    
                    <br class="clear-left" />
                </div>
                
                <div class="col cursor-pointer" data-fish="Chinook">

                    <div class="fish-photo">
                      <img src="./assets/chinook@2x.png" class="img-fluid" alt="Chinook" title="Chinook" width="95%" />
                    </div>

                    <div class="fish-detail">
                      <h2>Chinook</h2>
                      <p>
                        The Chinook is the largest in size but least abundant Pacific salmon species.
                      </p>
                    </div>

                    <br class="clear-left" />
                </div>

            </div>
            <a class="btn btn-success btn-lg btn-white faded" id="close-select-fish" title="Start your journey">Start Your Journey</a>
        </div>
        <div class="overlay"></div>
    </div>



    <!-- Main interactive-specific content -->
    <main>
        <div class="number-of-salmon"></div>
        <div id="SelectedSalmon"></div>

        <div class="game">

          <div class="game-world">

            <div class="waves"></div>
            <div class="waves-1"></div>
            <div class="waves-2"></div>
            
            <div class="game-world__background"></div>
            <div class="game-world__midground"></div>
            <div class="game-world__foreground"></div>

            <div class="encounters">

            </div>

          </div>

           <div class="progress-wrapper">
              <div class="progressb">
                  <div class="fish-outline"></div>
                  <div class="position-progress position-1-progress"></div>
                  <div class="position-progress position-2-progress"></div>
                  <div class="position-progress position-3-progress"></div>
                  <div class="position-progress position-4-progress"></div>
              </div>
          </div>


        </div>

    </main>

    <script id="hotspotTemplate" type="text/x-jsrender">
      <div data-location="{{:location}}" data-hotspot="{{:hotspot_index}}" style="bottom: {{:bottom}}px; left: {{:left}}px;" class="hotspot"></div>
    </script>

     <script id="introSliderTemplate" type="text/x-jsrender">
        <div>

          {{if sub_title}}
            <p class="text-center all-caps letter-spacing-1">{{:sub_title}}</p>
          {{/if}}
          {{if title}}
            <h3 class="text-center">{{:title}}</h3>
          {{/if}}

          <div class="card-body">
            

            {{if heading}}
              <h1>{{:heading}}</h1>
            {{/if}}


            {{if image}}

              <div class="card-image">
                <div class="photo-container">
                    <img src="{{:thumb}}" class="img-fluid" />
                    <div data-gallery data-gallery-image="{{:image}}" data-gallery-caption="{{:credit}}">
                    </div>
                </div>
              </div>

              <p class="image-credit">
                {{:credit}}
              </p>

            {{/if}}

            {{if body}}
              <p>
                {{:body}}
              </p>
            {{/if}}
          </div>

          {{if isLastSlide}}

            <div class="quiz-options btn-group-vertical">

                <button type="button" class="btn btn-default restart-skip-intro">
                  Play Activity Again
                </button>

            </div>
            
          {{/if}}
        </div>
    </script>

    <script id="informationSlideTemplate" type="text/x-jsrender">
        <div>

          {{if sub_title}}
            <p class="text-center all-caps letter-spacing-1">{{:sub_title}}</p>
          {{/if}}
          {{if title}}
            <h3 class="text-center">{{:title}}</h3>
          {{/if}}

          <div class="card-body">

            {{if heading}}
              <h1>{{:heading}}</h1>
            {{/if}}


            {{if image}}

              <div class="card-image">
                <div class="photo-container">
                    <img src="{{:thumb}}" class="img-fluid" />
                    <div data-gallery data-gallery-image="{{:image}}" data-gallery-caption="{{:credit}}">
                    </div>
                </div>
              </div>

              <p class="image-credit">
                {{:credit}}
              </p>

            {{/if}}

            {{if body}}
              <hr />
              <p>
                {{:body}}
              </p>
            {{/if}}
          </div>

          {{if result}}
            <div class="result-area text-center">
              <p>
                {{:result}}
              </p>
            </div>
          {{/if}}

          {{if isLastSlide}}


            <div class="quiz-options btn-group-vertical">

                <button type="button" class="restart-skip-intro btn btn-default ">
                  Play Activity Again
                </button>

            </div>
            
          {{/if}}
        </div>
    </script>

    <script id="quizSlideTemplate" type="text/x-jsrender">

        <div>
            {{if sub_title}}
              <p class="text-center all-caps letter-spacing-1">{{:sub_title}}</p>
            {{/if}}

            {{if title}}
              <h3 class="text-center">{{:title}}</h3>
            {{/if}}


          <div class="card-body">

            <div class="text-center">
        
              <hr />

              {{if heading}}
                <h3>{{:heading}}</h3>
              {{/if}}
              
              <p class="all-caps letter-spacing-1">
                Pick one option to proceed
              </p>


              <div class="quiz-options btn-group-vertical" role="group" data-answered="false">


                {{for quiz_options}}
                  <button type="button" class="btn btn-default answer-{{:add_fish}}" data-losefish="{{:lose_fish}}" data-addfish="{{:add_fish}}" data-result="{{:result}}">
                    {{:options}}
                  </button>
                {{/for}}

              </div>
            </div>
          </div>

          <p class="hidden quiz-detail">
              
          </p>

          <p class="hidden quiz-solution">
            <strong class="solution-text">
              You lose one fish.
            </strong>
          </p>
        </div>
    </script>


    


    
    <!-- Include jquery, jquery ui, touchpunch -->
    <script src="/nk360/shared/lib/im/js/jquery/jquery-3.2.1.min.js"></script>
    <script src="/nk360/shared/lib/im/js/jqueryui/jquery-ui.min.js"></script>
    <script src="/nk360/shared/lib/im/js/jqueryui-touchpunch/jquery.ui.touch-punch.min.js"></script>
    <script src="/nk360/shared/lib/im/js/jsrender/jsrender.min.js"></script>

    <!-- Include bootstrap -->
    <script src="/nk360/shared/lib/im/js/tether/tether.min.js"></script>
    <script src="/nk360/shared/lib/im/js/bootstrap/bootstrap.min.js"></script>

    <!-- Include lightGallery -->
    <script src="/nk360/shared/lib/im/js/lightgallery/js/lightgallery-all.min.js"></script>

    <!-- Include slick -->
    <script src="/nk360/shared/lib/im/js/slick/slick.min.js"></script>

    <!-- Include shared code -->
    <script src="/nk360/shared/lib/im/code/analytics.js"></script>
    <script src="/nk360/shared/lib/im/code/audio/audio.js"></script>
    <script src="/nk360/shared/lib/im/code/tooltips/tooltips.js"></script>
    <script src="/nk360/shared/lib/im/code/instructions/instructions.js"></script>
    <script src="/nk360/shared/lib/im/code/lightbox/lightbox.js"></script>
    <script src="/nk360/shared/lib/im/code/upperleftmenu/menu.js"></script>
    <script src="/nk360/shared/lib/im/code/credits/credits.js"></script>

    <!-- For development only, comment for distribution -->
    <script>var jsondata = './data/m3a1.json';</script>

    <!-- For production build -->
    <!-- build:template:dist 
        <script>var jsondata = './data/<%= json %>.json';</script>
    /build -->

    <!-- Include project specific code/files -->
    <script src="./js/game.js"></script>
    <script src="./js/app.js"></script>
    <script src="./js/init.js"></script>
</body>
</html>